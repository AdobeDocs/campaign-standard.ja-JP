---
title: 疲労ルール
description: 疲労ルールを作成して、プロファイルを使用した過剰なコミュニケーションを管理します。
page-status-flag: never-activated
uuid: fa5e3ded-36c2-4f16-b97a-119b85adf679
contentOwner: sauviat
products: SG_CAMPAIGN/STANDARD
audience: administration
content-type: reference
topic-tags: working-with-typology-rules
discoiquuid: 4337a80b-0fb9-4a37-bce3-fe2121a66586
internal: n
snippet: y
translation-type: tm+mt
source-git-commit: 5f4a7f249a47def6776d8787b066e3d8256c3528

---


# 疲労ルール{#fatigue-rules}

## 疲労ルールについて {#about-fatigue-rules}

疲労ルールを使用すると、マーケティング担当者は、過剰に要請されたプロファイルをキャンペーンから自動的に除外するグローバルなチャネル間ビジネスルールを設定できます。

疲労ルールを実装するには、プロファイルごとに最大メッセージ数を定義し、ルールを適用する期間を選択します。 配信の準備中、既に送信されているメッセージの数に応じて、該当する場合は配信からプロファイルが除外されます。

>[!NOTE]
>
>疲労ルールを適用するには、搬送の連絡日を定義する必要があります。 メッセージをすぐに送信する場合は、疲労ルールは適用されません。

関連トピック：

* [準備](../../administration/using/configuring-email-channel.md#preparation)
* [タイポロジの管理](../../administration/using/about-typology-rules.md#managing-typologies)
* [タイポロジルール](../../administration/using/about-typology-rules.md#typology-rules)
* [接触疲労を防ぐための通信頻度の最適化](https://helpx.adobe.com/campaign/kb/simplify-campaign-management.html#Engageyourcustomersateverystep)

## 疲労ルールの作成 {#creating-a-fatigue-rule}

To create and configure a **[!UICONTROL Fatigue]** typology rule, apply the following steps:

1. インターフェイスの左上隅にあるAdobe Campaignロゴをクリックし、// **[!UICONTROL Administration]** を選 **[!UICONTROL Channels]** 択し **[!UICONTROL Typologies]** ます **[!UICONTROL Typology rules]**。

   ![](assets/fatigue4.png)

1. タイポロジルールのリストで、をクリックしま **[!UICONTROL Create]**&#x200B;す。

   ![](assets/fatigue.png)

1. フィールド **[!UICONTROL Rule type]** で、を選択しま **[!UICONTROL Fatigue]**&#x200B;す。

   ![](assets/fatigue3.png)

1. フィールド **[!UICONTROL Channel]** で、ルールを適用するチャネルを選択します。 1つのチャネル（電子メール、SMS、ダイレクトメール、モバイルアプリケーション）を選択するか、またはを選択できま **[!UICONTROL All channels]**&#x200B;す。 詳しくは、 [チャネルの選択を参照してください](#choosing-the-channel)。

   ![](assets/fatigue5.png)

1. タブで、プ **[!UICONTROL General]** ロファイルごとの最大メッセージ数の計算方法を定義します。 一定のしきい値または変数を選択できます。 また、プロファイルと配信のしきい値を調整することもできます。 For more on this, refer to [Defining the threshold](#defining-the-threshold).

   ![](assets/fatigue2.png)

1. タイポロジル **[!UICONTROL Sliding period]** ールを適用する対象を選択します。 詳しくは、「スライディング期間の [設定」を参照してください](#setting-the-sliding-period)。

   ![](assets/fatigue6.png)

   この例（前のスクリーンショットを参照）では、スライディング期間15日間に最大4個のメッセージを送信することを選択しています。

1. このタブで **[!UICONTROL Application criteria]** は、このルールをすべての配信に適用するか、送信するメッセージに従ってルールの適用を制限するかを選択できます。 ルールは、適用条件が満たされた場合にのみ実行されます。 例えば、特定の単語で始まるラベルや特定の文字を含むIDを持つメッセージに対してのみルールを適用できます。 詳しくは、 [フィルタリングルールの適用の制限を参照してくださ](../../administration/using/filtering-rules.md#restricting-the-applicability-of-a-filtering-rule)い。

   ![](assets/fatigue20.png)

1. タブを選択 **[!UICONTROL Typologies]** し、配信に使用するタイポロジにタイポロジルールをリンクします。 詳しくは、タ [イポロジとタイポロジ](../../administration/using/about-typology-rules.md#managing-typologies) ルール [の管理を参照してくださ](../../administration/using/about-typology-rules.md#typology-rules)い。

   ![](assets/fatigue12.png)

   >[!NOTE]
   >
   >配信テンプレートでタイポロジを定義すると、このテンプレートを使用して作成されるすべての配信に自動的にこのタイポロジを適用できます。

配信の準備中、既に送信されている配信の数に応じて、該当する場合は配信からプロファイルが除外されます。 疲労ルールの実行結果は配信ログに表示できます。 詳しくは、 [疲労結果の表示を参照してください](#viewing-the-fatigue-results)。

![](assets/fatigue16.png)

>[!IMPORTANT]
>
>疲労ルールを機能させるには、搬送の連絡日を定義する必要があります。 メッセージをすぐに送信する場合は、疲労ルールは適用されません。

## チャネルの選択 {#choosing-the-channel}

疲労ルールは様々なチャネルで使用できます。 チャネルは、タイポロジルール設定 **[!UICONTROL Channel]** のフィールドで定義されます。 1つのチャネルを選択するか、またはを選択できま **[!UICONTROL All channels]**&#x200B;す。

![](assets/fatigue5.png)

**利用可能なチャネル**

以下のチャネルを利用できます。

* E メール
* モバイル (SMS)
* ダイレクトメール
* モバイルアプリケーション：このチャネルを使用すると、プッシュ通知をプロファイルやアプリのサブスクリプションに送信できます。 プロファイルに通知を送信する場合は、複数チャネルの疲労ルールと互換性があります。

   >[!IMPORTANT]
   >
   >疲労ルールは、アプリの購読者に送信されるプッシュ通知と互換性がありません。 アプリの購読者にメッセージを送信する場合、疲労ルールは適用されません。

* すべてのチャネル：このオプションを使用すると、すべてのチャネルにルールを適用できます。 例えば、任意のチャネルに対して1か月に最大3個のメッセージを送信することができます。 先週プロファイルに2通の電子メールを送信し、今日プッシュ通知を送信しようとすると、同じプロファイルが除外されます。

**配信タイプ**

疲労ルールは、すべての配信タイプと互換性があります。1回限りの配信、繰り返し配信、ワークフロー配信、トランザクションメッセージ。

**トランザクション** ・メッセージングは、イベント(rtEvent)をターゲットにしたサービス・メッセージや、リマーケティング・メッセージ（ターゲット・プロファイル）などを送信するために使用できます。 疲労ルールは、マーケティングメッセージ（ターゲットプロファイル）とのみ互換性があります。 イベントトランザクションメッセージにはプロファイル情報が含まれないので、（プロファイルを含むエンリッチメントの場合でも）疲労ルールとの互換性がありません。 トランザクションメッセージでのマーケティングメッセージのサポートにより、マーケティング **トランザクションメッセージを含むすべてのチャネルに疲労ルールを適用できま**&#x200B;す。

## しきい値の定義 {#defining-the-threshold}

各疲労ルールは、しきい値を定義します。つまり、特定の期間に1つのプロファイルに送信できるメッセージの最大数を定義します。 しきい値に達すると、その後は指定された期間が完了するまで、配信は実施できなくなります。このプロセスにより、メッセージが設定したしきい値を超えた場合に、配信からプロファイルを自動的に除外できるので、過剰要請を回避できます。

しきい値は、定数または変数のいずれかです。 つまり、ある期間、しきい値はプロファイルごとに異なる場合や、同じプロファイルに対しても異なる場合があります。

**固定しきい値の使用**

しきい値は、該当期間中にプロファイルに送信できる最も多いメッセージ数を表します。

デフォルトでは、定数のしきい値が使用されます。この場合は、ルールで許可されるメッセージの最大数の値を指定してください。

![](assets/fatigue2.png)

**可変しきい値の使用**

可変しきい値を定義するには、フィールド **[!UICONTROL Depends on the recipient]** で値を選択し **[!UICONTROL Threshold type]** ます。

![](assets/fatigue15.png)

その後、次の2つのオプションがあります。

* プロファイルフィールドを選択します。しきい値は、選択したフィールドに応じてプロファイルごとに異なります。 例えば、「通信頻度」フィールドを使用してプロファイルリソースを拡張した場合は、フィールドの右側のボタンをクリックし、フィ **[!UICONTROL Threshold computation formula]** ールドを選択します。 しきい値は、プロファイルごとに「通信頻度」フィールドの値をとります。

   ![](assets/fatigue21.png)

* 式の定義：フィールドの右側の2番目のボタンをクリックし **[!UICONTROL Threshold computation formula]** て、高度なしきい値の計算式を定義します。 例えば、プロファイルが属するセグメントに従って、承認されたメッセージの数のインデックスを作成できます。 つまり、「Web」セグメントに属するプロファイルが他のプロファイルよりも多くのメッセージを受信する可能性があります。 タイプ **[!UICONTROL Iif (@origin='Web', 5, 3)]** 数式は、ウェブセグメントのプロファイルに対して5つのメッセージを配信し、他のセグメントに対して3つのメッセージを配信することを許可します。

   ![](assets/fatigue14.png)

**プロファイルと配信のしきい値の調整**

デフォルトでは、しきい値の計算にはすべてのメッセージが考慮されます。配信を準備する **[!UICONTROL Refine Threshold on profiles and deliveries]** 際にカウントするプロファイルと配信をフィルタリングするには、このボックスをオンにします。

次の例では、男性プロファイルのみがカウントされ、ニュースレターで始まるラベルを持つ配信のみがカ **ウントされ** ます。

![](assets/fatigue13.png)

配信のしきい値の調整は、ルール全体（タブ）の適用性を制限するのとは異な **[!UICONTROL Application criteria]** ります。

* **[!UICONTROL Application criteria]**:ルールを実行するか、特定の条件に従わないかを選択します。 例えば、申し込み条件が「ラベルがニュースレターで始まる」の場合、この条件を考慮した配信にのみルールが適用されます。 配信のラベルが「プロモーション」で始まる場合、ルールはまったく実行されません。
* **[!UICONTROL Refine threshold on profiles and deliveries > Deliveries to count]**:このタイポロジルールを使用するすべての配信はルールを実行しますが、過去とスケジュールされた配信の中で、カウントする配信を決定します。 例えば、「ラベルがニュースレターで始まる」という制限を設定した場合、配信ラベルが「プロモ」で始まる場合でも、ルールが実行されます。 選択したスライド期間中に、「ニュースレター」で始まるラベルを持つ配信の数がカウントされます。

## スライド期間の設定 {#setting-the-sliding-period}

疲労ルールは、n日周期で定義されます。 期間は、2週間、7日 **[!UICONTROL Sliding period]** 、5時間などのセクションで設定します。

![](assets/fatigue6.png)

ルールを実行すると、過去の配信とスケジュールされた配信の両方が考慮されます。 これにより、所定のスライド期間でしきい値を超えることがなくなります。

例えば、48時間の期間を定義した場合、連絡日の48時間前と **連絡日の** 48時間後 **が表示されます**。 したがって、選択した期間が2倍になり、以前の配信と同様に将来の配信も統合できます。

受け取った配信を2週間の期間に制限するには、「スラ **イド期間** 」セクション **に「日」と「7** 週間」または「1週間」と入力します **** 。 配信日の7日前までに送信され、ルールが適用される配信日から7日後にスケジュールされた配信は、計算に考慮されます。

## 疲労結果の表示 {#viewing-the-fatigue-results}

配信の準備中、既に送信されている配信の数に応じて、該当する場合は配信からプロファイルが除外されます。 疲労ルールの実行結果を表示するには、ブロックの右下隅にあるボタンをクリックし **[!UICONTROL Deployment]** ます。

![](assets/fatigue22.png)

3つのタブが使用でき、適用したルールの名前を含む疲労実行結果の詳細が表示されます。

* 配信ログ：

   ![](assets/fatigue17.png)

* 除外ログ:

   ![](assets/fatigue18.png)

* 除外の原因：

   ![](assets/fatigue19.png)

## 疲労ルールの概要レポートの表示 {#viewing-the-fatigue-rule-summary-report}

Adobe Campaignには、疲労ルールがキャンペーンにどのように適用されているかを把握するのに役立つ、疲労ルールに関する専用のレポートが用意されています。 これにより、キャンペーンが相互に与える影響を把握し、適切な調整を行うことができます。

レポー **[!UICONTROL Fatigue rules summary]** トには、各プログラム、キ **[!UICONTROL Reports]** ャンペーン、メッセージの右上隅にあるボタンからアクセスできます。

![](assets/fatigue27.png)

画面の左側で、配信の連絡日に関するレポートデータをフィルタリングできます。 デフォルトでは、選択した期間は現在の日付の15日前に開始し、15日後に終了します。 また、特定の疲労ルールに基づいてフィルターを適用することもできます。

選択した期間に関する次の情報が円グラフに表示されます。

* **[!UICONTROL Total targeted]**:メッセージの準備前の合計ターゲット
* **[!UICONTROL Excluded]**:疲労ルール適用による除外の合計数
* **[!UICONTROL Other exclusions]**:他のタイポロジルールによる除外の合計数
* **[!UICONTROL To deliver]**:メッセージの準備後に配信されるメッセージの合 **[!UICONTROL To deliver]** 計数( **[!UICONTROL Total targeted]** = - **[!UICONTROL Excluded]** - **[!UICONTROL Other exclusions]** )

グラフの右側に、除外数が疲労ルール別に表示されます。

下の表には、選択した期間内のすべての配信が表示されます。 各搬送について、適用された疲労ルールと対応する除外を確認できます。 連絡日のない配信も表に表示されます。

* **[!UICONTROL 0]** 疲労規則が適用されたが除外されなかったことを意味します。
* **[!UICONTROL -N]** は、N個の除外が発生したことを意味します。
* 空のフィールドは、疲労ルールが適用されなかったことを意味します。

>[!NOTE]
>
>表示されるデータは、レポートにアクセスするプログラム、メッセージ、キャンペーンにはコンテキストに依存しません。 このレポートには、すべての組織単位の疲労ルールと配信がすべて表示されます。 これにより、キャンペーンが他のキャンペーンにどのように影響を与えているかを把握するために、すべての配信をグローバルに表示できます。

## 例 {#examples}

疲労管理の導入には、多くの可能性があります。 実行できる操作の例を次に示します。

* すべてのチャネルに適用する一定のしきい **値を使用して** 、疲労ルー **ルを作成します**。

   スライド期間が7日間で、常に3のしきい値を持つマルチチャネルルールを作成するとします。

   先週、プレミアムプロファイルには、プロモーション用の電子メールとトランザクションリマーケティング用の電子メールが届いています。 また、来週に送信するSMSのスケジュールも設定しました。 今日は、すべてのプロファイルを対象としたプッシュ通知を送信することにします。 2週間の期間でのメッセージの最大数に達しているので、プレミアムプロファイルは今日のプッシュから除外されます。

   ![](assets/fatigue23.png)

* プロファイルフィールドに基づく可変しきい **値を使用して** 、疲労ルー **ルを作成します**。

   「通信制限」フィールドを使用してプロファイルリソースを拡張し、各プロファイルに異なるしきい値を定義しました。 疲労ルールで、このフィールドに基づいて可変しきい値を定義し、スライド期間を2日に設定します。 次に、2つの例を示します。Johnの通信制限は1で、Davidの通信しきい値は2です。 両方とも昨日ニュースレターの電子メールを受け取っています。 あなたは今日彼らに別のメールを送ることにした。 ジョンがターゲットから除外されたので、ダビデだけがそれを受け取ります。

   ![](assets/fatigue24.png)

* しきい値の計算式を使用して疲労ル **ールを作成します**。

   プロファイルの年齢に応じてしきい値を変更する場合。 プロファイルが40未満の場合は4の制限を定義し、古いプロファイルの場合は2の制限を定義します。 拡張フィールドを使用して各プロファイルにこのしきい値を定義する代わりに、疲労ルール内に直接式を作成し、プロファイルの年齢に従ってしきい値を計算できます。 この例では、数式は次のようになりま **[!UICONTROL Iif (@age<40, 4, 2)]**&#x200B;す。

   ![](assets/fatigue25.png)

   >[!NOTE]
   >
   >ここでは、しきい値計算式を使用した疲労ルールのステップバイステップの例も示します。

* プロファイルと配信のしきい値 **を調整する疲労** ・ルールを作成します。

   プロファイルリソースを「スコア」フィールドで拡張し、配信リソースを「タイプ」フィールドで拡張しました。 一定のしきい値3を定義するが、タイプ「アラート」または「黒金曜日」のすべての配信と、スコアが10より大きいすべてのプロファイルのカウントから除外する。 ルールを実行すると、過去およびスケジュールされた配信の中で、スコアが10未満のプロファイルに送信された、「アラート」または「黒金曜日」以外のすべての配信がカウントされます。

   ![](assets/fatigue26.png)

しきい値計算式を使用した疲労ルールのステップバイステップの例を示します。

この使用例では、プレミアムプロファイルに対して1週間に2件以上のメッセージを配信し、標準プロファイルに対して1週間に2件のメッセージを配信しないように、タイポロジルールを作成します。

顧客や見込み客を識別するために、プレミアムプロファイルの場合は0、標準プロフ **[!UICONTROL Status]** ァイルの場合は1を含むフィールドを使用してプロファイルリソースを拡張しました。

ルールを作成するには、次の手順に従います。

1. Create a new **Fatigue** type typology rule.
1. この節で **[!UICONTROL Threshold]** は、各プロファイルに応じてしきい値を計算する式を作成します。 フィールド **[!UICONTROL Depends on the recipient]** 内の値を選択 **[!UICONTROL Threshold type]** し、フィールドの右側にある2番目のボタンのアイコンをクリックし **[!UICONTROL Threshold computation formula]** ます。

   ![](assets/fatigue7.png)

1. セクション **[!UICONTROL List of functions]** で、ノード内の **Iif** 関数をダブルクリックし **[!UICONTROL Others]** ます。

   ![](assets/fatigue8.png)

1. 次に、セクションでプロファイルの **ステータス** を選択 **[!UICONTROL Available fields]** します。

   ![](assets/fatigue9.png)

1. 必要な値を入力して、次の式を作成します。 **Iif(@status=0,2,4)**

   ![](assets/fatigue10.png)

   この数式により、受信者のステータスが 0 の場合は 2、その他のステータスの場合は 4 が割り当てられます。

1. Click **[!UICONTROL Confirm]** to approve the formula.
1. ルールを適 **[!UICONTROL Sliding period]** 用する対象を指定します。この場合、7日間に限定して、受け取る配信を2週間に制限します。

   ![](assets/fatigue11.png)

1. ここで、作成したルールをタイポロジにリンクして、配信に適用します。 これを行うには、タブを選択し、 **[!UICONTROL Typologies]** をクリックして、配 **[!UICONTROL Create element]** 信に使用するタイポロジを選択します。

   ![](assets/fatigue12.png)

1. ルールを保存して、作成を実行します。

ルールは、タイポロジに基づくすべての配信に適用されます。
